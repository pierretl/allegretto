{% extends 'template/modal.twig' %}

{% import 'macro.twig' as macro %}

{% block title %}Créer mon mot de passe{% endblock %}
{% block titleH1 %}1ère connexion {% endblock %}
{% block sousTitre %}à Allegretto{% endblock %}

{% block content %}

    <form action="action/utilisateur-password.php" method="post" class="df fd-c gap-m">

        <p>
            Si l'adresse e-mail <strong class="exergue">{{ dechiffre(get.l) }}</strong> est associée à un compte Allegretto,<br>
            Vous êtes sur le point de réinitialiser votre mot de passe.
        </p>

        {% if get.erreur1 %}
            {% set inputErreur = 'Le champ est vide' %}
        {% endif %}

        {% if get.erreur2 %}
            {% set inputErreur = 'Le mot de passe ne peut pas être identique à l\'e-mail' %}
        {% endif %}

        {% if get.erreur1 or get.erreur2 %}
            {% set inputMotdepasseErreur = true %}
        {% endif %}

        <input type="hidden" id="mail" name="mail" value="{{ dechiffre(get.l) }}">

        {% set descriptionLabel %}
            Le mot de passe saisi est <strong class="exergue">sécurisé et irréversible</strong>.
        {% endset %}

        {{ macro.formElement({
            id:             'motdepasse',
            label:          'Nouveau mot de passe',
            description:    descriptionLabel,
            type:           'password',
            erreur:         inputErreur,
            inputErreur:    inputMotdepasseErreur,
            voirMotDePasse: true
        }) }}

        <button name="Submit" type="submit" class="btn-1 mt-m">
            Créer mon mot de passe
        </button>
    </form>
   
{% endblock %}



{% block scriptFooter %}
    {{ include('js/voirMotDePasse.js') }}
{% endblock %}



{% block symbolSvg %}
<symbol id="oeil" viewBox="0 0 24 24" aria-hidden="true">
    <path d="M12,4C7.3,4,3.2,6.9,1.2,11.1c-0.3,0.6-0.3,1.3,0,1.9C3.2,17.1,7.3,20,12,20s8.8-2.9,10.8-7.1   c0.3-0.6,0.3-1.3,0-1.9C20.8,6.9,16.7,4,12,4z M12,16c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4s4,1.8,4,4C16,14.2,14.2,16,12,16z"/>
</symbol>
{% endblock %}